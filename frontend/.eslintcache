[{"/home/anguilar/cloudsound/frontend/src/index.js":"1","/home/anguilar/cloudsound/frontend/src/App.js":"2","/home/anguilar/cloudsound/frontend/src/store/csrf.js":"3","/home/anguilar/cloudsound/frontend/src/store/session.js":"4","/home/anguilar/cloudsound/frontend/src/store/index.js":"5","/home/anguilar/cloudsound/frontend/src/components/LoginFormPage/index.js":"6","/home/anguilar/cloudsound/frontend/src/components/SignupFormPage/index.js":"7","/home/anguilar/cloudsound/frontend/src/components/Navigation/index.js":"8","/home/anguilar/cloudsound/frontend/src/components/Navigation/ProfileButton.js":"9","/home/anguilar/cloudsound/frontend/src/components/ProfilePage/index.js":"10","/home/anguilar/cloudsound/frontend/src/components/HomePage/index.js":"11","/home/anguilar/cloudsound/frontend/src/components/MusicCarousel/index.js":"12","/home/anguilar/cloudsound/frontend/src/components/SongCard/index.js":"13","/home/anguilar/cloudsound/frontend/src/components/UploadPage/index.js":"14","/home/anguilar/cloudsound/frontend/src/components/WaveForm/index.js":"15","/home/anguilar/cloudsound/frontend/src/components/UploadPhoto/index.js":"16","/home/anguilar/cloudsound/frontend/src/components/VideoHeader/index.js":"17"},{"size":952,"mtime":1611810272046,"results":"18","hashOfConfig":"19"},{"size":1299,"mtime":1611811876466,"results":"20","hashOfConfig":"19"},{"size":1612,"mtime":1611788701570,"results":"21","hashOfConfig":"19"},{"size":1586,"mtime":1611532049010,"results":"22","hashOfConfig":"19"},{"size":674,"mtime":1611354658670,"results":"23","hashOfConfig":"19"},{"size":1650,"mtime":1611859629280,"results":"24","hashOfConfig":"19"},{"size":2210,"mtime":1611719546830,"results":"25","hashOfConfig":"19"},{"size":2237,"mtime":1611812055216,"results":"26","hashOfConfig":"19"},{"size":1728,"mtime":1611812039046,"results":"27","hashOfConfig":"19"},{"size":5617,"mtime":1611854219890,"results":"28","hashOfConfig":"19"},{"size":824,"mtime":1611820269433,"results":"29","hashOfConfig":"19"},{"size":1434,"mtime":1611698038300,"results":"30","hashOfConfig":"19"},{"size":863,"mtime":1611820233493,"results":"31","hashOfConfig":"19"},{"size":5031,"mtime":1611868169200,"results":"32","hashOfConfig":"19"},{"size":2689,"mtime":1611853516970,"results":"33","hashOfConfig":"19"},{"size":2412,"mtime":1611867709010,"results":"34","hashOfConfig":"19"},{"size":1115,"mtime":1611819170043,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"39"},"dq5x7l",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"39"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"39"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"39"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"39"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"/home/anguilar/cloudsound/frontend/src/index.js",["77"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport configureStore from \"./store\";\nimport { restoreCSRF, fetch } from \"./store/csrf\";\nimport * as sessionActions from \"./store/session\";\nimport { PageTransition } from \"@steveeeie/react-page-transition\";\n\nconst store = configureStore();\n\nif (process.env.NODE_ENV !== \"production\") {\n  restoreCSRF();\n\n  window.csrfFetch = fetch;\n  window.store = store;\n  window.sessionActions = sessionActions;\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  window.store = store;\n}\n\nfunction Root() {\n  return (\n    <ReduxProvider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ReduxProvider>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n",["78","79"],"/home/anguilar/cloudsound/frontend/src/App.js",[],"/home/anguilar/cloudsound/frontend/src/store/csrf.js",[],"/home/anguilar/cloudsound/frontend/src/store/session.js",["80","81","82"],"import { fetch } from \"./csrf\";\nimport { dispatch, getState } from \"react-redux\";\n\nexport function login({ credential, password }) {\n  return async function (dispatch, getState) {\n    const session = await fetch(\"/api/session\", {\n      method: \"POST\",\n      body: JSON.stringify({ credential, password }),\n    });\n    dispatch(setSessionUser(session.data.user));\n    return session;\n  };\n}\nexport const signup = (user) => async (dispatch) => {\n  const { username, email, password } = user;\n  const response = await fetch(\"/api/users\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      username,\n      email,\n      password,\n    }),\n  });\n  dispatch(setSessionUser(response.data.user));\n  return response;\n};\n\nexport const logout = () => async (dispatch) => {\n  const response = await fetch(\"/api/session\", {\n    method: \"DELETE\",\n  });\n  dispatch(removeSessionUser());\n  return response;\n};\n\nexport const restoreUser = () => async (dispatch) => {\n  const res = await fetch(\"/api/session\");\n  dispatch(setSessionUser(res.data.user));\n  return res;\n};\n\nexport function setSessionUser(session) {\n  return { type: \"SET_SESSION_USER\", session };\n}\n\nexport function removeSessionUser(session) {\n  return { type: \"REMOVE_SESSION_USER\", session };\n}\n\nconst defaultState = { user: null };\n\nexport default function sessionReducer(state = defaultState, action) {\n  let newState;\n  switch (action.type) {\n    case \"SET_SESSION_USER\":\n      return { ...state, user: action.session };\n    case \"REMOVE_SESSION_USER\":\n      return { ...state, user: null };\n    default:\n      return state;\n  }\n}\n","/home/anguilar/cloudsound/frontend/src/store/index.js",[],"/home/anguilar/cloudsound/frontend/src/components/LoginFormPage/index.js",[],"/home/anguilar/cloudsound/frontend/src/components/SignupFormPage/index.js",[],"/home/anguilar/cloudsound/frontend/src/components/Navigation/index.js",[],"/home/anguilar/cloudsound/frontend/src/components/Navigation/ProfileButton.js",[],"/home/anguilar/cloudsound/frontend/src/components/ProfilePage/index.js",["83"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n// import { useHistory } from \"react-router-dom\";\nimport { fetch } from \"../../store/csrf\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport Waveform from \"../WaveForm/index\";\nimport {\n  Layout,\n  Row,\n  Col,\n  Image,\n  Button,\n  Menu,\n  Dropdown,\n  Skeleton,\n} from \"antd\";\nimport \"./Header.css\";\nimport \"antd/dist/antd.css\";\nimport UploadPhoto from \"../UploadPhoto\";\n\nfunction ProfilePage() {\n  const { Content } = Layout;\n  // let history = useHistory();\n  const [data, setData] = useState();\n  const sessionUser = useSelector((state) => state.session.user);\n  let username;\n  let profileData;\n\n  const userId = sessionUser.id;\n\n  async function profileFetch() {\n    const res = await fetch(`/api/profile/${userId}`);\n    if (res.ok) {\n      let data = await res.data;\n      setData(data);\n    }\n  }\n\n  if (data) {\n    username = data.userFiles[0].username;\n    profileData = data.userFiles[0].Profile;\n    if (profileData.profilePicture === \"default\") {\n      profileData.profilePicture =\n        \"https://cloudsoundappbucket.s3-us-west-1.amazonaws.com/logo.png\";\n    }\n    if (profileData.bio === \"default\") {\n      profileData.bio = \"Welcome to my page!\";\n    }\n    console.log(profileData);\n  }\n\n  const menu = (\n    <Menu>\n      <Menu.Item icon={<EditOutlined />}>\n        <UploadPhoto data={[\"Profile Photo\"]}></UploadPhoto>\n      </Menu.Item>\n      <Menu.Item icon={<EditOutlined />}>\n        <UploadPhoto data={[\"Header Photo\"]}></UploadPhoto>\n      </Menu.Item>\n    </Menu>\n  );\n\n  useEffect(() => {\n    profileFetch();\n  }, []);\n\n  return (\n    <Layout\n      style={{\n        background: \"none\",\n        padding: \"none\",\n        height: \"90vh\",\n      }}\n    >\n      <Layout\n        style={{\n          background: \"none\",\n          padding: \"none\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\",\n        }}\n        height={1000}\n      >\n        <Content\n          width={1000}\n          style={{\n            backgroundColor: \"#edeeef\",\n            marginTop: \"0px\",\n          }}\n        >\n          <div\n            className=\"header\"\n            style={{\n              backgroundImage: `url(\"https://cloudsoundappbucket.s3-us-west-1.amazonaws.com/Default-Banner.png\")`,\n              backgroundSize: \"cover\",\n              position: \"relative\",\n              zIndex: \"1\",\n            }}\n          >\n            {data ? (\n              <Image\n                style={{\n                  zIndex: \"2\",\n                  position: \"absolute\",\n                  marginLeft: \"1vh\",\n                  marginTop: \"4vh\",\n                }}\n                width={\"17vh\"}\n                src={profileData.profilePicture}\n                loading=\"true\"\n                preview=\"false\"\n                placeholder=\"true\"\n              ></Image>\n            ) : (\n              <Image\n                style={{\n                  zIndex: \"2\",\n                  position: \"absolute\",\n                  marginLeft: \"1vh\",\n                  marginTop: \"4vh\",\n                }}\n                preview=\"false\"\n                width={\"17vh\"}\n                src={\n                  \"https://cloudsoundappbucket.s3-us-west-1.amazonaws.com/logo.png\"\n                }\n                placeholder=\"true\"\n              ></Image>\n            )}\n            <Row>\n              <Col\n                span={23}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  marginTop: \"6vh\",\n                }}\n              >\n                <Dropdown overlay={menu} placement=\"bottomCenter\">\n                  <Button\n                    style={{\n                      background: \"rgb(22, 22, 23)\",\n                      color: \"rgba(255, 255, 255, 0.65)\",\n                      borderColor: \"#001529\",\n                    }}\n                  >\n                    Edit\n                  </Button>\n                </Dropdown>\n              </Col>\n            </Row>\n            <Row className=\"title\">\n              <Col span={24}>\n                {data ? <h1>{username}</h1> : <Skeleton paragraph={false} />}\n              </Col>\n            </Row>\n          </div>\n\n          <Row>\n            <Col\n              span={8}\n              style={{\n                height: \"10rem\",\n                marginTop: \"4vh\",\n                paddingLeft: \"30px\",\n              }}\n            >\n              <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                <h5>About Me</h5>\n                <Button\n                  type=\"dashed\"\n                  shape=\"circle\"\n                  icon={<EditOutlined />}\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    marginRight: \"15px\",\n                    background: \"none\",\n                  }}\n                ></Button>\n              </div>\n              {data && <p>{profileData.bio}</p>}\n            </Col>\n            <Col span={16} style={{ paddingRight: \"10px\" }}>\n              <div\n                style={{\n                  height: \"10rem\",\n                  backgroundColor: \"rgb(22, 22, 23)\",\n                  borderRadius: \"15px\",\n                  paddingLeft: \"10px\",\n                  marginTop: \"10px\",\n                }}\n              >\n                <Waveform></Waveform>\n              </div>\n            </Col>\n          </Row>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n}\n\nexport default ProfilePage;\n","/home/anguilar/cloudsound/frontend/src/components/HomePage/index.js",["84"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { fetch } from \"../../store/csrf\";\nimport SongCard from \"../SongCard\";\nimport VideoHeader from \"../VideoHeader\";\nimport \"./index.css\";\n\nfunction HomePage() {\n  const [data, setData] = useState();\n  const sessionUser = useSelector((state) => state.session.user);\n  if (sessionUser) {\n    const userId = sessionUser.id;\n  }\n\n  async function homepageFetch() {\n    const res = await fetch(`/api/`);\n    if (res.ok) {\n      let data = await res.data;\n      console.log(data);\n      setData(data);\n    }\n  }\n\n  useEffect(() => {\n    homepageFetch();\n  }, []);\n\n  return (\n    <div style={{ height: \"100%\" }}>\n      <VideoHeader></VideoHeader>\n      <SongCard data={data}></SongCard>\n    </div>\n  );\n}\n\nexport default HomePage;\n","/home/anguilar/cloudsound/frontend/src/components/MusicCarousel/index.js",[],["85","86"],"/home/anguilar/cloudsound/frontend/src/components/SongCard/index.js",[],"/home/anguilar/cloudsound/frontend/src/components/UploadPage/index.js",["87","88"],"/home/anguilar/cloudsound/frontend/src/components/WaveForm/index.js",["89","90"],"import React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Slider } from \"antd\";\nimport \"./index.css\";\n\nimport \"antd/dist/antd.css\";\n\nimport WaveSurfer from \"wavesurfer.js\";\n\nconst formWaveSurferOptions = (ref) => ({\n  container: ref,\n  waveColor: \"rgba(255, 255, 255, 0.65)\",\n  progressColor: \"#E3E4DB\",\n  cursorColor: \"rgb(22, 22, 23)\",\n  barWidth: 3,\n  barRadius: 2,\n  responsive: true,\n  height: 150,\n  normalize: true,\n  partialRender: true,\n});\n\nexport function Waveform({ url }) {\n  if (!url) {\n    url =\n      \"https://www.mfiles.co.uk/mp3-downloads/brahms-st-anthony-chorale-theme-two-pianos.mp3\";\n  }\n\n  const waveformRef = useRef(null);\n  const wavesurfer = useRef(null);\n  const [playing, setPlay] = useState(false);\n  const [volume, setVolume] = useState(0.5);\n\n  // create new WaveSurfer instance\n  // On component mount and when url changes\n  useEffect(() => {\n    setPlay(false);\n\n    const options = formWaveSurferOptions(waveformRef.current);\n    wavesurfer.current = WaveSurfer.create(options);\n\n    wavesurfer.current.load(url);\n\n    wavesurfer.current.on(\"ready\", function () {\n      // https://wavesurfer-js.org/docs/methods.html\n      // wavesurfer.current.play();\n      // setPlay(true);\n\n      // make sure object stillavailable when file loaded\n      if (wavesurfer.current) {\n        wavesurfer.current.setVolume(volume);\n        setVolume(volume);\n      }\n    });\n\n    // Removes events, elements and disconnects Web Audio nodes.\n    // when component unmount\n    return () => wavesurfer.current.destroy();\n  }, [url]);\n\n  const handlePlayPause = () => {\n    setPlay(!playing);\n    wavesurfer.current.playPause();\n  };\n\n  const onVolumeChange = (e) => {\n    const { target } = e;\n    const newVolume = +target.value;\n\n    if (newVolume) {\n      setVolume(newVolume);\n      wavesurfer.current.setVolume(newVolume || 1);\n    }\n  };\n\n  return (\n    <div>\n      <div id=\"waveform\" ref={waveformRef} />\n      <div className=\"controls\">\n        <Button\n          style={{\n            background: \"rgb(22, 22, 23)\",\n            color: \"rgba(255, 255, 255, 0.65)\",\n            borderColor: \"#001529\",\n          }}\n          onClick={handlePlayPause}\n        >\n          {!playing ? \"Play\" : \"Pause\"}\n        </Button>\n        <input\n          className=\"slider\"\n          type=\"range\"\n          id=\"volume\"\n          name=\"volume\"\n          // waveSurfer recognize value of `0` same as `1`\n          //  so we need to set some zero-ish value for silence\n          min=\"0.01\"\n          max=\"1\"\n          step=\".025\"\n          onChange={onVolumeChange}\n          defaultValue={volume}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Waveform;\n","/home/anguilar/cloudsound/frontend/src/components/UploadPhoto/index.js",["91","92","93","94","95","96","97"],"/home/anguilar/cloudsound/frontend/src/components/VideoHeader/index.js",[],{"ruleId":"98","severity":1,"message":"99","line":10,"column":10,"nodeType":"100","messageId":"101","endLine":10,"endColumn":24},{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"98","severity":1,"message":"106","line":2,"column":10,"nodeType":"100","messageId":"101","endLine":2,"endColumn":18},{"ruleId":"98","severity":1,"message":"107","line":2,"column":20,"nodeType":"100","messageId":"101","endLine":2,"endColumn":28},{"ruleId":"98","severity":1,"message":"108","line":53,"column":7,"nodeType":"100","messageId":"101","endLine":53,"endColumn":15},{"ruleId":"109","severity":1,"message":"110","line":65,"column":6,"nodeType":"111","endLine":65,"endColumn":8,"suggestions":"112"},{"ruleId":"98","severity":1,"message":"113","line":12,"column":11,"nodeType":"100","messageId":"101","endLine":12,"endColumn":17},{"ruleId":"102","replacedBy":"114"},{"ruleId":"104","replacedBy":"115"},{"ruleId":"98","severity":1,"message":"116","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":15},{"ruleId":"98","severity":1,"message":"117","line":14,"column":18,"nodeType":"100","messageId":"101","endLine":14,"endColumn":24},{"ruleId":"98","severity":1,"message":"118","line":2,"column":18,"nodeType":"100","messageId":"101","endLine":2,"endColumn":24},{"ruleId":"109","severity":1,"message":"119","line":58,"column":6,"nodeType":"111","endLine":58,"endColumn":11,"suggestions":"120"},{"ruleId":"98","severity":1,"message":"121","line":4,"column":35,"nodeType":"100","messageId":"101","endLine":4,"endColumn":41},{"ruleId":"98","severity":1,"message":"122","line":4,"column":43,"nodeType":"100","messageId":"101","endLine":4,"endColumn":50},{"ruleId":"98","severity":1,"message":"123","line":4,"column":52,"nodeType":"100","messageId":"101","endLine":4,"endColumn":57},{"ruleId":"98","severity":1,"message":"124","line":5,"column":10,"nodeType":"100","messageId":"101","endLine":5,"endColumn":22},{"ruleId":"98","severity":1,"message":"125","line":5,"column":24,"nodeType":"100","messageId":"101","endLine":5,"endColumn":39},{"ruleId":"98","severity":1,"message":"126","line":13,"column":11,"nodeType":"100","messageId":"101","endLine":13,"endColumn":18},{"ruleId":"98","severity":1,"message":"127","line":43,"column":11,"nodeType":"100","messageId":"101","endLine":43,"endColumn":14},"no-unused-vars","'PageTransition' is defined but never used.","Identifier","unusedVar","no-native-reassign",["128"],"no-negated-in-lhs",["129"],"'dispatch' is defined but never used.","'getState' is defined but never used.","'newState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'profileFetch'. Either include it or remove the dependency array.","ArrayExpression",["130"],"'userId' is assigned a value but never used.",["128"],["129"],"'fetch' is defined but never used.","'Footer' is assigned a value but never used.","'Slider' is defined but never used.","React Hook useEffect has a missing dependency: 'volume'. Either include it or remove the dependency array. You can also do a functional update 'setVolume(v => ...)' if you only need 'volume' in the 'setVolume' call.",["131"],"'Upload' is defined but never used.","'message' is defined but never used.","'Input' is defined but never used.","'PlusOutlined' is defined but never used.","'LoadingOutlined' is defined but never used.","'loading' is assigned a value but never used.","'res' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"132","fix":"133"},{"desc":"134","fix":"135"},"Update the dependencies array to be: [profileFetch]",{"range":"136","text":"137"},"Update the dependencies array to be: [url, volume]",{"range":"138","text":"139"},[1640,1642],"[profileFetch]",[1558,1563],"[url, volume]"]